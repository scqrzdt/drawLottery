{"version":3,"sources":["webpack:///./src/utils/real.js","webpack:///src/components/Canvas.vue","webpack:///./src/components/Canvas.vue?a14d","webpack:///./src/components/Canvas.vue","webpack:///src/App.vue","webpack:///./src/App.vue?bc10","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["Reel","index","vueObj","base","this","LSprite","maxSpeed","minSpeed","speedUpStep","speedDownStep","currentSpeed","maxNum","currentNum","stopNum","startReel","stopFlag","reels","indexs","push","LBitmap","getReel","bitmapData","height","setCoordinate","visible","sy","i","length","y","addChild","prototype","pop","unshift","LBitmapData","imgList","onFrame","wheel","combination","setY","checkResult","child","Canvas","name","data","loadingLayer","boxLayer","drawLayer","startLayer","okLayer","resultTextField","reelList","drawBgList","stopBtnList","imgSrc","imgData","path","methods","init","LInit","main","LSystem","screen","LStage","FULL_SCREEN","self","LoadingSample1","LLoadManage","load","progress","setProgress","result","removeChild","gameInit","event","bgBitmap","drawBgBitmap","x","reel","stopButton","LButton","setState","STATE_DISABLE","addEventListener","LMouseEvent","MOUSE_UP","stopEvent","startButton","startEvent","resultBitmap","closeButton","closeResult","LTextField","font","color","size","weight","textAlign","LEvent","ENTER_FRAME","currentTarget","Math","floor","random","STATE_ENABLE","allStop","drawNumList","shift","text","join","speed","wind","mounted","components_Canvas","render","_h","$createElement","_self","_c","attrs","id","_v","staticRenderFns","App","components","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","Vue","config","productionTip","el","template"],"mappings":"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","file":"static/js/app.b9dd0ab9c90f77e3d875.js","sourcesContent":["function Reel(index, vueObj) {\n  var self = this;\n  base(self, LSprite, []);\n\n  //设置初始属性\n  self.maxSpeed = 70;//滚动最大速度\n  self.minSpeed = 10;//滚动最小速度\n  self.speedUpStep = 2;//每次轮播上升速度增量\n  self.speedDownStep = 2;//每次轮播下降速度增量\n  self.currentSpeed = 0;//开始的速度\n\n  self.maxNum = 10;//一共多少个数\n  self.currentNum = 0;//开始数字\n  self.stopNum = 0;//获奖区间序号\n\n  self.startReel = false;//是否开启滚动，设置为true时则会加入定时事件进行滚动\n  self.stopFlag = true;//是否停止滚动，设置为true时表示准备停止滚动\n\n  self.index = index;\n  self.vueObj = vueObj;\n\n  //放入四张数字图片\n  self.reels = [];\n  self.indexs = [0, 0, 0, 0];\n  self.reels.push(new LBitmap(self.getReel()));\n  self.reels.push(new LBitmap(self.getReel()));\n  self.reels.push(new LBitmap(self.getReel()));\n  self.reels.push(new LBitmap(self.reels[0].bitmapData));\n\n  //设置数字图片高度\n  self.reels[0].height = 60;\n  self.reels[0].bitmapData.height = self.reels[0].height;\n  self.reels[0].bitmapData.setCoordinate(0, 80 - self.reels[0].height);\n  self.reels[2].height = 60;\n  self.reels[2].bitmapData.height = self.reels[2].height;\n  self.reels[3].visible = false;\n\n  //设置数字图片高度偏移\n  var sy = 0;\n  for (var i = 0; i < self.reels.length; i++) {\n    self.reels[i].y = sy;\n    sy += self.reels[i].height;\n    self.addChild(self.reels[i]);\n  }\n}\n\n//放入数字图片\nReel.prototype.getReel = function () {\n  var self = this;\n  if (self.currentNum >= self.maxNum) self.currentNum = 0;\n\n  //设置indexs数组的值\n  self.indexs[0] = self.currentNum;\n  self.indexs.pop();\n  self.indexs.unshift(self.currentNum);\n\n  return new LBitmapData(self.vueObj.imgList[\"item\" + self.currentNum++]);\n};\n\n//定时事件\nReel.prototype.onFrame = function () {\n  var self = this;\n  if (self.startReel) self.wheel();\n};\nReel.prototype.wheel = function () {\n  var self = this;\n\n  //调节旋转速度\n  if (self.stopFlag) {//停止则速度下降\n    if (self.currentSpeed > self.minSpeed) {\n      self.currentSpeed -= self.speedDownStep;\n    } else {\n      self.currentSpeed = self.minSpeed;\n    }\n  } else {//开始则速度上升\n    if (self.currentSpeed < self.maxSpeed) {\n      self.currentSpeed += self.speedUpStep;\n    } else {\n      self.currentSpeed = self.maxSpeed;\n    }\n  }\n\n  //到达预设的值则停止滚动\n  if (self.stopFlag && self.currentSpeed <= self.minSpeed && self.indexs[2] === self.vueObj.combination[self.stopNum][self.index] && self.reels[1].y + self.currentSpeed > 60) {\n    self.currentSpeed = 60 - self.reels[1].y;\n    self.startReel = false;\n  }\n\n  //设置当前图片位置\n  self.setY();\n\n  //检查是否完成抽奖\n  if (!self.startReel) self.vueObj.checkResult();\n};\n\n//设置图片位置\nReel.prototype.setY = function () {\n  var self = this;\n\n  self.reels[1].y += self.currentSpeed;\n  if (self.reels[1].y + self.reels[1].height > 200) {\n    self.reels[1].height = 200 - self.reels[1].y;\n    self.reels[1].bitmapData.height = self.reels[1].height;\n\n  }\n\n  if (self.reels[1].y > 80) {\n    self.reels[0].height = 80;\n    self.reels[0].y = self.reels[1].y - 80;\n  } else {\n    self.reels[0].height = self.reels[1].y;\n    self.reels[0].y = 0;\n  }\n\n  self.reels[0].bitmapData.height = self.reels[0].height;\n  self.reels[0].bitmapData.setCoordinate(0, 80 - self.reels[0].height);\n\n  self.reels[2].y = self.reels[1].y + self.reels[1].height;\n  if (self.reels[2].y > 200) {\n    self.reels[2].visible = false;\n  } else if (self.reels[2].y + 80 > 200) {\n    self.reels[2].height = 200 - self.reels[2].y;\n    self.reels[2].bitmapData.height = self.reels[2].height;\n  } else {\n    self.reels[3].y = self.reels[2].y + self.reels[2].height;\n    if (self.reels[3].y < 200) {\n      self.reels[3].height = 200 - self.reels[3].y;\n      self.reels[3].bitmapData.height = self.reels[3].height;\n    }\n  }\n\n  if (self.reels[0].y > 0) {\n    var child = self.reels.pop();\n    child.bitmapData = self.getReel();\n    child.visible = true;\n    self.reels.unshift(child);\n    child.y = 0;\n    child.height = self.reels[1].y;\n    child.bitmapData.height = child.height;\n    child.bitmapData.setCoordinate(0, 80 - child.height);\n  }\n\n  if (self.reels[3].y >= 200) {\n    self.reels[3].visible = false;\n  }\n};\n\nexport {\n  Reel\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/real.js","<template>\n  <div id=\"myCanvas\">loading……</div>\n</template>\n\n<script>\n import {Reel} from '@/utils/real.js'\n\n export default {\n   name: \"Canvas\",\n   data() {\n     return {\n       //各个模块\n       loadingLayer: null, boxLayer: null, drawLayer: null, startLayer: null, okLayer: null, resultTextField: null,\n\n       //元件列表\n       reelList: [], drawBgList: [], stopBtnList: [],\n\n       //图片\n       imgSrc: \"./static/images/\",\n       imgData: [\n         {name: \"slot_bg\", path: \"slot_bg.png\"},\n         {name: \"draw_bg\", path: \"slot_draw_bg.png\"},\n         {name: \"start\", path: \"slot_start.jpg\"},\n         {name: \"stop_up\", path: \"slot_stop_up.png\"},\n         {name: \"stop_down\", path: \"slot_stop_down.png\"},\n         {name: \"stop_over\", path: \"slot_stop_over.png\"},\n         {name: \"slot_ok\", path: \"slot_ok.png\"},\n         {name: \"close\", path: \"slot_close.png\"},\n         {name: \"item0\", path: \"0.png\"},\n         {name: \"item1\", path: \"1.png\"},\n         {name: \"item2\", path: \"2.png\"},\n         {name: \"item3\", path: \"3.png\"},\n         {name: \"item4\", path: \"4.png\"},\n         {name: \"item5\", path: \"5.png\"},\n         {name: \"item6\", path: \"6.png\"},\n         {name: \"item7\", path: \"7.png\"},\n         {name: \"item8\", path: \"8.png\"},\n         {name: \"item9\", path: \"9.png\"}\n       ],\n       imgList: null,\n\n       //获奖数组\n       stopNum: 0,\n       combination: [[0, 0, 1], [0, 2, 4], [0, 5, 1], [0, 1, 4], [0, 3, 3], [0, 4, 1]]\n     }\n   },\n   methods: {\n     init() {\n       LInit(5, \"myCanvas\", 750, 750, this.main);\n       LSystem.screen(LStage.FULL_SCREEN);\n     },\n     main() {\n       var self = this;\n\n       //加载进度条\n       self.loadingLayer = new LoadingSample1();\n       addChild(self.loadingLayer);\n\n       //加入图片路径\n       for (var i in self.imgData) {\n         self.imgData[i]['path'] = self.imgSrc + self.imgData[i]['path'];\n       }\n\n       //加载图片并对游戏进行初始化\n       LLoadManage.load(\n         self.imgData,\n         function (progress) {\n           self.loadingLayer.setProgress(progress);\n         },\n         function (result) {\n           self.imgList = result;\n           removeChild(self.loadingLayer);\n           self.loadingLayer = null;\n           self.gameInit();\n         }\n       );\n     },\n     gameInit(event) {//游戏初始化\n       var self = this;\n\n       self.boxLayer = new LSprite();\n       addChild(self.boxLayer);\n\n       //放入背景\n       var bgBitmap = new LBitmap(new LBitmapData(self.imgList[\"slot_bg\"]));\n       self.boxLayer.addChild(bgBitmap);\n\n       //放入其他元素\n       self.drawLayer = new LSprite();\n       addChild(self.drawLayer);\n       for (var i = 0; i < 3; i++) {\n         //放入抽奖背景\n         var drawBgBitmap = new LBitmap(new LBitmapData(self.imgList[\"draw_bg\"]));\n         drawBgBitmap.x = 150 * i + 156;\n         drawBgBitmap.y = 300;\n         self.drawLayer.addChild(drawBgBitmap);\n         self.drawBgList.push(drawBgBitmap);\n\n         //放入数字\n         var reel = new Reel(i, self);\n         reel.x = 150 * i + 156;\n         reel.y = 300;\n         self.drawLayer.addChild(reel);\n         self.reelList.push(reel);\n\n         //放入停止按钮，默认隐藏且禁止点击\n         var stopButton = new LButton(new LBitmap(new LBitmapData(self.imgList[\"stop_up\"])), new LBitmap(new LBitmapData(self.imgList[\"stop_down\"])), new LBitmap(new LBitmapData(self.imgList[\"stop_down\"])), new LBitmap(new LBitmapData(self.imgList[\"stop_over\"])));\n         stopButton.x = 150 * i + 149;\n         stopButton.y = 565;\n         stopButton.index = i;\n         stopButton.visible = false;\n         stopButton.setState(LButton.STATE_DISABLE);\n         stopButton.addEventListener(LMouseEvent.MOUSE_UP, self.stopEvent);\n         self.drawLayer.addChild(stopButton);\n         self.stopBtnList.push(stopButton);\n       }\n\n       //放入开始按钮\n       self.startLayer = new LSprite();\n       addChild(self.startLayer);\n       var startButton = new LButton(new LBitmap(new LBitmapData(self.imgList[\"start\"])));\n       startButton.x = 122;\n       startButton.y = 525;\n       startButton.addEventListener(LMouseEvent.MOUSE_UP, self.startEvent);\n       self.startLayer.addChild(startButton);\n\n       //加入结果页，默认隐藏\n       self.okLayer = new LSprite();\n       self.okLayer.visible = false;\n       addChild(self.okLayer);\n\n       //加入结果页背景\n       var resultBitmap = new LBitmap(new LBitmapData(self.imgList[\"slot_ok\"]));\n       resultBitmap.x = 117;\n       resultBitmap.y = 137;\n       self.okLayer.addChild(resultBitmap);\n\n       //加入结果页关闭按钮\n       var closeButton = new LButton(new LBitmap(new LBitmapData(self.imgList[\"close\"])));\n       closeButton.x = 320;\n       closeButton.y = 480;\n       closeButton.addEventListener(LMouseEvent.MOUSE_UP, self.closeResult);\n       self.okLayer.addChild(closeButton);\n\n       //加入文字\n       self.resultTextField = new LTextField();\n       self.resultTextField.x = 367;\n       self.resultTextField.y = 310;\n       self.resultTextField.font = \"微软雅黑\";\n       self.resultTextField.color = \"#FADB43\";\n       self.resultTextField.size = 78;\n       self.resultTextField.weight = \"bolder\";\n       self.resultTextField.textAlign = 'center';\n       self.okLayer.addChild(self.resultTextField);\n\n       self.boxLayer.addEventListener(LEvent.ENTER_FRAME, self.onFrame);\n     },\n     stopEvent(event, currentTarget) {//停止按钮事件\n       //设置准备关闭滚动\n       this.reelList[currentTarget.index].stopFlag = true;\n\n       //设置为禁止状态\n       currentTarget.setState(LButton.STATE_DISABLE);\n     },\n     startEvent(event) {//开始按钮事件\n       //隐藏开始按钮\n       this.startLayer.visible = false;\n\n       this.stopNum = Math.floor(Math.random() * (this.combination.length / 3));\n       for (var i = 1; i < 3; i++) {//第一位不转\n         //显示关闭按钮\n         this.stopBtnList[i].setState(LButton.STATE_ENABLE);\n         this.stopBtnList[i].visible = true;\n\n         this.reelList[i].startReel = true;\n         this.reelList[i].stopFlag = false;\n         this.reelList[i].stopNum = this.stopNum;\n       }\n     },\n     onFrame() {//定时事件\n       for (var i = 0; i < 3; i++) {\n         this.reelList[i].onFrame();\n       }\n     },\n     checkResult() {//检查结果\n       var allStop = 0;\n\n       //检查每个按钮是否都完成\n       for (var i = 0; i < 3; i++) {\n         if (!this.reelList[i].startReel) allStop++;\n       }\n\n       //都完成\n       if (allStop >= 3) {\n         for (i = 0; i < 3; i++) {//隐藏停止按钮\n           this.stopBtnList[i].visible = false;\n         }\n\n         //显示结果页面\n         this.okLayer.visible = true;\n\n         //获取后两位获奖号码并显示\n         var drawNumList= this.combination[this.stopNum];\n         drawNumList.shift();\n         this.resultTextField.text = drawNumList.join('');\n         this.resultTextField.speed = 10;\n         this.resultTextField.wind();\n       }\n     },\n     closeResult() {//关闭结果页并显示开始按钮\n       this.okLayer.visible = false;\n       this.startLayer.visible = true;\n     },\n   },\n   mounted() {\n     this.init();\n   }\n }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Canvas.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"myCanvas\"}},[_vm._v(\"loading……\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06be3bbc\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Canvas.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06be3bbc\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Canvas.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Canvas.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Canvas.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06be3bbc\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Canvas.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-06be3bbc\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Canvas.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <Canvas />\n  </div>\n</template>\n\n<script>\n  import Canvas from '@/components/Canvas'\n\n  export default {\n    name: 'App',\n    components: {\n      Canvas\n    }\n  }\n</script>\n\n<style>\n  * {margin: 0;padding: 0;}\n  body {background-color: #880d0c;}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Canvas')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a6a2c5c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a6a2c5c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a6a2c5c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false;\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}