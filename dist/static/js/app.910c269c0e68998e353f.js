webpackJsonp([1],{"48n+":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW");function a(t,e){base(this,LSprite,[]),this.maxSpeed=70,this.minSpeed=10,this.speedUpStep=2,this.speedDownStep=2,this.currentSpeed=0,this.maxNum=9,this.currentNum=1,this.stopNum=0,this.startReel=!1,this.stopFlag=!0,this.index=t,this.vueObj=e,this.reels=[],this.indexs=[0,0,0,0],this.reels.push(new LBitmap(this.getReel())),this.reels.push(new LBitmap(this.getReel())),this.reels.push(new LBitmap(this.getReel())),this.reels.push(new LBitmap(this.reels[0].bitmapData)),this.reels[0].height=60,this.reels[0].bitmapData.height=this.reels[0].height,this.reels[0].bitmapData.setCoordinate(0,80-this.reels[0].height),this.reels[2].height=60,this.reels[2].bitmapData.height=this.reels[2].height,this.reels[3].visible=!1;for(var i=0,s=0;s<this.reels.length;s++)this.reels[s].y=i,i+=this.reels[s].height,this.addChild(this.reels[s])}a.prototype.getReel=function(){return this.currentNum>this.maxNum&&(this.currentNum=1),this.indexs[0]=this.currentNum,this.indexs.pop(),this.indexs.unshift(this.currentNum),new LBitmapData(this.vueObj.imgList["item"+this.currentNum++])},a.prototype.onFrame=function(){this.startReel&&this.wheel()},a.prototype.wheel=function(){this.stopFlag?this.currentSpeed>this.minSpeed?this.currentSpeed-=this.speedDownStep:this.currentSpeed=this.minSpeed:this.currentSpeed<this.maxSpeed?this.currentSpeed+=this.speedUpStep:this.currentSpeed=this.maxSpeed,this.stopFlag&&this.currentSpeed<=this.minSpeed&&this.indexs[2]===this.vueObj.combination[this.stopNum][this.index]&&this.reels[1].y+this.currentSpeed>60&&(this.currentSpeed=60-this.reels[1].y,this.startReel=!1),this.setY(),this.startReel||this.vueObj.checkResult()},a.prototype.setY=function(){if(this.reels[1].y+=this.currentSpeed,this.reels[1].y+this.reels[1].height>200&&(this.reels[1].height=200-this.reels[1].y,this.reels[1].bitmapData.height=this.reels[1].height),this.reels[1].y>80?(this.reels[0].height=80,this.reels[0].y=this.reels[1].y-80):(this.reels[0].height=this.reels[1].y,this.reels[0].y=0),this.reels[0].bitmapData.height=this.reels[0].height,this.reels[0].bitmapData.setCoordinate(0,80-this.reels[0].height),this.reels[2].y=this.reels[1].y+this.reels[1].height,this.reels[2].y>200?this.reels[2].visible=!1:this.reels[2].y+80>200?(this.reels[2].height=200-this.reels[2].y,this.reels[2].bitmapData.height=this.reels[2].height):(this.reels[3].y=this.reels[2].y+this.reels[2].height,this.reels[3].y<200&&(this.reels[3].height=200-this.reels[3].y,this.reels[3].bitmapData.height=this.reels[3].height)),this.reels[0].y>0){var t=this.reels.pop();t.bitmapData=this.getReel(),t.visible=!0,this.reels.unshift(t),t.y=0,t.height=this.reels[1].y,t.bitmapData.height=t.height,t.bitmapData.setCoordinate(0,80-t.height)}this.reels[3].y>=200&&(this.reels[3].visible=!1)};var h={name:"Canvas",data:function(){return{loadingLayer:null,boxLayer:null,drawLayer:null,startLayer:null,okLayer:null,reelList:[],drawBgList:[],stopBtnList:[],imgSrc:"./static/images/",imgData:[{name:"slot_bg",path:"slot_bg.png"},{name:"draw_bg",path:"slot_draw_bg.png"},{name:"start",path:"slot_start.jpg"},{name:"stop_up",path:"slot_stop_up.png"},{name:"stop_down",path:"slot_stop_down.png"},{name:"stop_over",path:"slot_stop_over.png"},{name:"slot_ok",path:"slot_ok.png"},{name:"item1",path:"1.png"},{name:"item2",path:"2.png"},{name:"item3",path:"3.png"},{name:"item4",path:"4.png"},{name:"item5",path:"5.png"},{name:"item6",path:"6.png"},{name:"item7",path:"7.png"},{name:"item8",path:"8.png"},{name:"item9",path:"9.png"}],imgList:null,combination:[[1,1,5],[1,2,4],[1,5,1],[2,1,4],[2,3,3],[2,4,1],[2,5,4],[3,1,2],[3,4,3],[3,5,5],[4,1,2],[4,2,3],[4,5,1],[4,5,5],[5,1,1],[5,2,4],[5,3,2],[5,5,1],[1,1,1],[1,1,1]]}},methods:{init:function(){LInit(5,"myCanvas",750,750,this.main),LSystem.screen(LStage.FULL_SCREEN)},main:function(){var t=this;for(var e in t.loadingLayer=new LoadingSample1,addChild(t.loadingLayer),t.imgData)t.imgData[e].path=t.imgSrc+t.imgData[e].path;LLoadManage.load(t.imgData,function(e){t.loadingLayer.setProgress(e)},function(e){t.imgList=e,removeChild(t.loadingLayer),t.loadingLayer=null,t.gameInit()})},gameInit:function(t){this.boxLayer=new LSprite,addChild(this.boxLayer);var e=new LBitmap(new LBitmapData(this.imgList.slot_bg));this.boxLayer.addChild(e),this.drawLayer=new LSprite,addChild(this.drawLayer);for(var i=0;i<3;i++){var s=new LBitmap(new LBitmapData(this.imgList.draw_bg));s.x=150*i+156,s.y=300,this.drawLayer.addChild(s),this.drawBgList.push(s);var h=new a(i,this);h.x=150*i+156,h.y=300,this.drawLayer.addChild(h),this.reelList.push(h);var n=new LButton(new LBitmap(new LBitmapData(this.imgList.stop_up)),new LBitmap(new LBitmapData(this.imgList.stop_down)),new LBitmap(new LBitmapData(this.imgList.stop_down)),new LBitmap(new LBitmapData(this.imgList.stop_over)));n.x=150*i+149,n.y=565,n.index=i,n.visible=!1,n.addEventListener(LMouseEvent.MOUSE_UP,this.stopEvent),this.drawLayer.addChild(n),this.stopBtnList.push(n)}this.startLayer=new LSprite,addChild(this.startLayer);var r=new LButton(new LBitmap(new LBitmapData(this.imgList.start)),new LBitmap(new LBitmapData(this.imgList.start)));r.x=122,r.y=525,r.addEventListener(LMouseEvent.MOUSE_UP,this.startEvent),this.startLayer.addChild(r),this.okLayer=new LSprite,addChild(this.okLayer);var l=new LButton(new LBitmap(new LBitmapData(this.imgList.slot_ok)),new LBitmap(new LBitmapData(this.imgList.slot_ok)));l.x=65,l.y=73,l.addEventListener(LMouseEvent.MOUSE_UP,this.closeResult),this.okLayer.addChild(l),this.okLayer.visible=!1,this.boxLayer.addEventListener(LEvent.ENTER_FRAME,this.onFrame)},stopEvent:function(t,e){this.reelList[e.index].stopFlag=!0,e.setState(LButton.STATE_DISABLE)},startEvent:function(t){this.startLayer.visible=!1;for(var e=Math.floor(Math.random()*(this.combination.length/3)),i=0;i<3;i++)this.stopBtnList[i].setState(LButton.STATE_ENABLE),this.stopBtnList[i].visible=!0,this.reelList[i].startReel=!0,this.reelList[i].stopFlag=!1,this.reelList[i].stopNum=e},onFrame:function(){for(var t=0;t<3;t++)this.reelList[t].onFrame()},checkResult:function(){for(var t=0,e=0;e<3;e++)this.reelList[e].startReel||t++;if(t>=3){for(e=0;e<3;e++)this.stopBtnList[e].visible=!1;this.reelList[0].stopNum>=19?this.okLayer.visible=!0:this.startLayer.visible=!0}},closeResult:function(){this.okLayer.visible=!1,this.startLayer.visible=!0}},mounted:function(){this.init()}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"myCanvas"}},[this._v("loading……")])},staticRenderFns:[]};var r={name:"App",components:{Canvas:i("VU/8")(h,n,!1,function(t){i("48n+")},"data-v-68200f4c",null).exports}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Canvas")],1)},staticRenderFns:[]};var p=i("VU/8")(r,l,!1,function(t){i("X1Gg")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:p},template:"<App/>"})},X1Gg:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.910c269c0e68998e353f.js.map